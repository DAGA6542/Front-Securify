<mat-sidenav-container>
  <!-- Sidebar -->
  <mat-sidenav #sidenav mode="over" class="custom-sidenav">
    <mat-nav-list>
      <!-- Home -->
      <mat-list-item>
        <button mat-button (click)="sidenav.toggle()">
          <mat-icon>home</mat-icon> Home
        </button>

      </mat-list-item>

      <!-- Administración -->

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>Administración</mat-panel-title>
        </mat-expansion-panel-header>
        @if (esAdministrador()  || esUsuario() || esVendedor()) {
        <button mat-button [matMenuTriggerFor]="menuUsuario">
          <mat-icon>person</mat-icon> Usuario
        </button>
        }
        @if (esAdministrador()) {
        <button mat-button [matMenuTriggerFor]="menuRol">
          <mat-icon>security</mat-icon> Rol
        </button>
        }
      </mat-expansion-panel>


      <!-- Catálogo de Productos -->
      @if (esAdministrador() || esVendedor() || esUsuario()) {
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>Catálogo de Productos</mat-panel-title>
        </mat-expansion-panel-header>
        <button mat-button [matMenuTriggerFor]="menuProducto">
          <mat-icon>shopping_bag</mat-icon> Producto
        </button>
        <button mat-button [matMenuTriggerFor]="menuImagenProducto">
          <mat-icon>photo</mat-icon> Imagen Producto
        </button>
        <button mat-button [matMenuTriggerFor]="menuCategoria">
          <mat-icon>category</mat-icon> Categoria
        </button>
        <button mat-button [matMenuTriggerFor]="menuTienda">
          <mat-icon>storefront</mat-icon> Tienda
        </button>
      </mat-expansion-panel>
      }

      <!-- Carrito y Proceso de Compra -->
      @if (esUsuario() || esAdministrador()) {
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>Proceso de Compra</mat-panel-title>
        </mat-expansion-panel-header>
        <button mat-button [matMenuTriggerFor]="menuOrden">
          <mat-icon>inventory_2	</mat-icon> Orden
        </button>
        <button mat-button [matMenuTriggerFor]="menuDetalleOrden">
          <mat-icon>description</mat-icon> Detalle Orden
        </button>
        <button mat-button [matMenuTriggerFor]="menuPago">
          <mat-icon>payments</mat-icon> Pago
        </button>
      </mat-expansion-panel>
      }
      <!-- Interacción del Usuario -->
      @if (esUsuario() || esAdministrador()) {
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>Interacción del Usuario</mat-panel-title>
        </mat-expansion-panel-header>
        <button mat-button [matMenuTriggerFor]="menuComentario">
          <mat-icon>comment</mat-icon> Comentario
        </button>
        <button mat-button [matMenuTriggerFor]="menuFavorito">
          <mat-icon>favorite</mat-icon> Favorito
        </button>
      </mat-expansion-panel>
      }
      <!-- Reportes -->
      @if (esAdministrador()) {
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>Reportes</mat-panel-title>
        </mat-expansion-panel-header>
        <button mat-button routerLink="/reportes/listadolugarturisticoporciudad" (click)="sidenav.toggle()">
          <mat-icon>pie_chart</mat-icon> Listar Lugar por Ciudad
        </button>
        <button mat-button routerLink="/reportes/listadonumerolugarturistico" (click)="sidenav.toggle()">
          <mat-icon>bar_chart</mat-icon> Listar Numero por Lugar
        </button>
      </mat-expansion-panel>
      }
      <!-- Logout como botón visible -->
      <button mat-button class="logout-button"  [routerLink]="'/login'">
        <mat-icon>logout</mat-icon> Logout
      </button>
    </mat-nav-list>
  </mat-sidenav>

    <!-- Toolbar -->
    <mat-sidenav-content>
      <mat-toolbar color="primary">
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
        <span>TF-Turismap</span>
      </mat-toolbar>

      <router-outlet></router-outlet>
    </mat-sidenav-content>

</mat-sidenav-container>

<!-- Menú de Usuario -->
<mat-menu #menuUsuario="matMenu">
  @if (esAdministrador()) {
  <button mat-menu-item routerLink="/usuario">Listar</button>
  }
  @if (esAdministrador() || esVendedor() || esUsuario()) {
  <button mat-menu-item routerLink="/usuario/insertar">Registrar</button>
  }
  </mat-menu>

<!-- Menú de Rol -->
<mat-menu #menuRol="matMenu">
  @if (esAdministrador()) {
  <button mat-menu-item routerLink="/rol">Listar</button>
  <button mat-menu-item routerLink="/rol/insertar">Registrar</button>
  }
</mat-menu>

<!-- Menú de Producto -->
<mat-menu #menuProducto="matMenu">
  <button mat-menu-item routerLink="/ciudad">Listar</button>
  @if (esAdministrador() || esVendedor()) {
  <button mat-menu-item routerLink="/ciudad/insertar">Registrar</button>
  }
</mat-menu>

<!-- Menú de Imagen Producto -->
<mat-menu #menuImagenProducto="matMenu">
  <button mat-menu-item routerLink="/departamento">Listar</button>
  @if (esAdministrador() || esVendedor()) {
  <button mat-menu-item routerLink="/departamento/insertar">Registrar</button>
  }
</mat-menu>

<!-- Menú de Categoria -->
<mat-menu #menuCategoria="matMenu">
  <button mat-menu-item routerLink="/categoria/listar">Listar</button>
  @if (esAdministrador() || esVendedor()) {
  <button mat-menu-item routerLink="/categoria">Registrar</button>
  }
</mat-menu>

<!-- Menú de Tienda -->
<mat-menu #menuTienda="matMenu">
  <button mat-menu-item routerLink="/negocio">Listar</button>
  @if (esAdministrador() || esVendedor()) {
  <button mat-menu-item routerLink="/negocio/insertar">Registrar</button>
  }
</mat-menu>

<!-- Menú de Orden -->
<mat-menu #menuOrden="matMenu">
  <button mat-menu-item routerLink="/orden">Listar</button>
  <button mat-menu-item routerLink="/orden/insertar">Registrar</button>
</mat-menu>

<!-- Menú de Detalle Orden -->
<mat-menu #menuDetalleOrden="matMenu">
  <button mat-menu-item routerLink="/promocion">Listar</button>
  <button mat-menu-item routerLink="/promocion/insertar">Registrar</button>
</mat-menu>

<!-- Menú de Pago -->
<mat-menu #menuPago="matMenu">
  <button mat-menu-item routerLink="/lugarturistico">Listar</button>
  <button mat-menu-item routerLink="/lugarturistico/insertar">Registrar</button>
</mat-menu>

<!-- Menú de Comentario -->
<mat-menu #menuComentario="matMenu">
  <button mat-menu-item routerLink="/comentario">Listar</button>
  <button mat-menu-item routerLink="/comentario/insertar">Registrar</button>
</mat-menu>

<!-- Menú de Favorito -->
<mat-menu #menuFavorito="matMenu">
  <button mat-menu-item routerLink="/favorito">Listar</button>
  <button mat-menu-item routerLink="/favorito/insertar">Registrar</button>
</mat-menu>

<router-outlet></router-outlet>
